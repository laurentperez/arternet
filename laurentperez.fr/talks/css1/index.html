<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>laurentperez.fr::talks::houdini</title>
		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">
		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style>
			.reveal section p {
			font-size: 0.8em !important;
			}
			.reveal section h2 {
			font-size: 1.2em !important;
			}
			.reveal section h3 {
			font-size: 1em !important;
			}
			.reveal section img {
			margin:0 !important;
			border: none !important;
			}
			.reveal section blockquote {
			font-size: 0.5em !important;
			}
			.reveal section ul li {
			font-size: 0.6em !important;
			}
			.reveal section ol li {
			font-size: 0.6em !important;
			}
			</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				
				<section>
					<p>Meetup AFUP / Web Front</p>
					<p>Un talk frontend pour d√©veloppeurs.ses mais aussi cr√©as, UI</p>
					<p>"Le moteur CSS envo√ªt√© par la magie d'Houdini"</p>
					<p>Dessin et animations nouvelle g√©n√©ration, et plus encore</p>
					<p><img src="awe.png" alt=""></p>
					<p><img src="mth.jpg" width="30px"/></p>
					<small>laurentperez.fr/talks/css1</small>
				</section>
				<!--

					Le moteur CSS envo√ªt√© par la magie d'Houdini
					Pour du dessin et animations nouvelle g√©n√©ration... et plus encore

					Le meetup AFUP est notre h√¥te √† titre exceptionnel pour ce 1er talk 
					enti√®rement d√©di√© au frontend Web/CSS, avec un peu de JS pour contacter
					les fonctions d'Houdini

					Houdini issu de travaux communs Google/Apple/Mozilla repousse les portes du moteur CSS et les ouvre davantage aux d√©veloppeurs.ses frontend mais √©galement
					aux cr√©as/UI, avec √† la clef un jeu √©tendu de possibilit√©s de dessin, d'animation, de propri√©t√©s, 
					et m√™me de layout.

					Le talk pr√©sente toutes ces nouvelles possibilit√©s, et les besoins auxquelles elles r√©pondent.
					Avec des d√©mos de cas d'usages r√©els √† la cl√© !

				-->
				<section>
					<h2>Notre h√¥te</h2>
					<p>... votre speaker</p>
					<h2>... et vous !</h2>
				</section>

			<section>
				<h2>Toi, public</h2>
				<p class="fragment fade-up">Qui fait du front/UI/animation/print/vid√©o ?</p>
				<p class="fragment fade-up">Ratio natif iOS/Android/autre (hors WebViews) &amp; web pur ?</p>
				<p class="fragment fade-up">Exemples de derni√®res demandes clientes ou cr√©as complexes ?</p>
			</section>

			<section>
				<h2>üòø CSS, la mal aim√©e üòø</h2>
				<p>C'est assez vrai. floats, tables, !important, pr√©fixes -webkit, -ms, z-index, negative margins, positions, ...</p>
				<p>Trop de libert√©s laiss√©es aux fabricants de navigateurs, specs trop souples = bugs, inconnues, mues (grid)</p>
				<p>Travaux HTML des groupes W3C (Open Web) et WhatWG (fabricants) s√©par√©s jusqu'en... Mai 2019</p>
				<p class="fragment fade-up">C'est le pass√©. Ca va -globalement- beaucoup mieux, malgr√© quelques tensions entre Moz et Google</p>
				<p class="fragment fade-up">Membres clef du CSSWG tr√®s publics : Rachel Andrew (Smashing), Lea Verou (MIT), Tab Atkins (Google), Jen Simmons (Moz)</p>
			</section>

			<section>
				<h2>‚ú® CSS Houdini ‚ú®</h2>
				<p class="fragment fade-up">tl;dr : pour ouvrir davantage le moteur CSS via JS</p>
				<p class="fragment fade-up">on a un acc√®s au plus proche de l'interne du moteur</p>
				<p class="fragment fade-up">on peut y cr√©er nos propri√©t√©s, peinture/clip, animation, layout</p>
				<p class="fragment fade-up">travail commenc√© circa 2015</p>
				<p  class="fragment fade-up">suite logique du travail apr√®s WebComponents, WebWorkers et Web Animations API</p>
			</section>

			<section>
				<h2>ü§î ... Une solution √† la recherche d'un probl√®me ? ü§î</h2>
				<p>C'est un acc√®s "boite √† outils cr√©a" sur CSS. OK ...</p>
				<p class="fragment fade-up"><blockquote class="fragment fade-up">" Like 10000 spoons when all you need is a knife ". Ironic</blockquote></p>
				<p class="fragment fade-up">Ca te donne notamment de quoi construire ton couteau si tu n'en avais pas</p>
				<p class="fragment fade-up">Si tu en avais, √ßa te permet de le polir, l'am√©liorer, ou prototyper une alternative, variation... en faire un pinceau √† poils doux au lieu de dents, polyfiller une id√©e</p>
				<p class="fragment fade-up">Artisanat, outillage sans limites ou presque* : c'est pas open bar total</p>
			</section>

			<section>
				<h2>Qui te donne - ou pas - le couteau ?</h2>
				<p class="fragment fade-up">Les fabricants de navigateurs, et de librairies - toi compris !</p>
				<p class="fragment fade-up">Houdini, la reine des neiges dans ton navigateur ‚ùÑÔ∏è</p>
				<p class="fragment fade-up">Lib√©r√©(e), d√©livr√©(e) de limites du moteur des librairies tierces. <em>Tu n'attends plus ta fonction : tu peux l'√©crire, la partager dans un cadre standard Web, √©tendre une fonction existante</em></p>
				<p class="fragment fade-up">... √ßa t'emp√™che pas de commit sur OSS si tu sais/peux/veux le faire, ou trouver des compromis cr√©as (chifoumi ?)</p>
				<small class="fragment fade-up">On cite un hit musical, une princesse Disney, une arme blanche, de l'OSS, 2 des GAFA. Joyeux bordel Tarantinesque. Tout va bien</small>
			</section>

			<section>
				<h2>Buts et acteurs</h2>
				<p  class="fragment fade-up">Ouvrir les portes de la "magie" CSS et pouvoir √©tendre le moteur sans attendre les fabricants ou ticket les librairies tierces</p>
				<small  class="fragment fade-up">Arr√™ter l'interaction JS √† base de addClass/el.style ou les hacks type translate3D(0,0,0) et manipulations de DOM et CSSOM douteuses</small>
				<p  class="fragment fade-up">S√©parer la logique dessin/animation/layout (JS) et son style (CSS)</p>
				<p  class="fragment fade-up">Donner du rendu √† 60fps hors thread UI principale</p>
				<p>Task force Google, Mozilla, Apple. R√©elle volont√©, par et pour des devs/UI</p>
				<small  class="fragment fade-up">hacks JS = parce qu'on n'a pas le choix</small>
			</section>

			<section>
				<p>Le DFO et son navigateur web</p>
				<p><img src="pai.jpg" width="600px" alt=""></p>
				<p>QCM : o√π est ton client, ton/ta cr√©a UI UX, ton navigateur, ton budget, ta deadline, ton/ta coll√®gue super dou√©(e) qui t'aide en front, jQuery, ton DOM, ta CSS ... toi ?</p>
			</section>

			<section>
				<p>Dans une maquette, 70% est "facile" - relatif √† l'exp√©rience de chacun(e)</p>
				<p>C'est quand le moteur ne te donne pas les autres 30% que la recherche commence (toi, tes coll√®gues, google, stackoverflow, ...)</p>
				<p>Houdini = moins de gal√®res, moins de "on peut pas le faire en CSS / pur web"</p>
				<p>Houdini + Flex/Grid + BEM/SASS/LeSS = üåà</p>
				<p class="fragment fade-up">nb : ce n'est pas un rempla√ßant √† WebGL. C'est <a href="https://en.wikipedia.org/wiki/WebGPU">WebGPU</a> qui remplacera WebGL</p>
			</section>

			<section>
				<p>Houdini pas difficile, ni obscur. C'est juste 5 nouvelles techniques sur des bases CSS</p>
				<p><img src="posabs.png" width="400px" alt=""></p>
				<small>"CSS vertical align" sur Google : Environ 10‚ÄØ600‚ÄØ000 r√©sultats</small>
			</section>

			<section>
				<p>Division en 5 nouvelles grandes APIs</p>
				<p><a href="https://github.com/w3c/css-houdini-drafts">https://github.com/w3c/css-houdini-drafts</a> (repo des specs)</p>
				<p><a href="https://drafts.css-houdini.org">https://drafts.css-houdini.org</a> (specs)</p>
				<ul>
					<li class="fragment fade-up">CSSOM API (CAPI)</li>
					<li class="fragment fade-up">Properties/Values API (PVAPI)</li>
					<li class="fragment fade-up">Paint API (PAPI)</li>
					<li class="fragment fade-up">Worklet Animation API (WAPI ...sur WAAPI)</li>
					<li class="fragment fade-up">Layout API (LAPI)</li>
					<li class="fragment fade-up">... 6e optionnelle, Font Metrics API (FMAPI) *</li>
					</ul>
				<small class="fragment fade-up">* = pas encore d'impl√©mentation visible, pas essentielle</small>
			</section>

			<section>
				<h2>Oui, mais le support ?</h2>
				<p><a href="https://www.chromestatus.com/features#houdini">https://www.chromestatus.com/features#houdini</a> </p>
				<p><a href="https://ishoudinireadyyet.com">https://ishoudinireadyyet.com</a> </p>
				<ul>
					<li>CSSOM : livr√© Chrome, ii FF, in dev SF</li>
					<li>Properties Values API : in dev 90% Chrome/SF, in dev FF</li>
					<li>Paint API : livr√© Chrome, ii FF, in dev SF</li>
					<li>Worklet Animation API : in dev 80% Chrome (sans chor√©graphie), uc SF</li>
					<li>Layout API : partial 70% Chrome, uc FF/SF</li>
					<li>Font Metrics API : rien, uniquement les specs</li>
				</ul>
				<small>uc: int√©r√™t, ii: Intent to Implement, in dev: en cours, Safary TP, Chrome Canary, FF Nightly</small>
			</section>

			<section>
				<p>Chromium (Blink) et Safari (WebKit) devant</p>
				<p>Firefox (Servo) franchement derri√®re, IE va utiliser Blink</p>
				<p>lire les questions sur <a href="https://github.com/w3c/css-houdini-drafts/issues">https://github.com/w3c/css-houdini-drafts/issues</a></p>
				<p>r√©ponses des auteurs de specs et fabricants</p>
				<p class="fragment fade-up">Important : WAAPI √† 100% dans Safari TP / iOS13 (sans Worklet, uc), √† 80% CR FF (playback pas fini)</p>
			</section>

			<section>
				<p>donc : CSS @support(xxx){....} + JS if('xxx' in CSS)</p>
				<p>√ßa fait quelques ann√©es que les prefix -webkit -moz -ms ont √©t√© abandonn√©s pour nouvelles fonctions</p>
				<p>√† la place, flags explicites sous 'Experimental features'</p>
				<p>et Progressive Enhancement, toujours</p>
			</section>

			<section>
				<p>Que Firefox soit en "retard" <em>n'est pas une mauvaise chose</em></p>
				<p class="fragment fade-up">C'est assez d√ª au switch de Gecko vers Servo √† partir de 2017</p>
				<p class="fragment fade-up">On veut de la diversit√© dans les moteurs de rendu, Servo est top</p>
				<p class="fragment fade-up">Pas de One Blink to rule them all</p>
				<p class="fragment fade-up">nb : la Team IE Edge va verser le meilleur de Edge dans Blink (Reddit aMa 06/19), r√©ouvrir des API bloqu√©es</p>
				<small>FF Worklet mi Ao√ªt : <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1315239">https://bugzilla.mozilla.org/show_bug.cgi?id=1315239</a></small>
				<small>en Q3 2019 tout Houdini marqu√© en Enhancement P3, les tickets dataient de 2017, la Worklet est un pilier des API</small>
			</section>
			
			<section>
				<h2>Les nouvelles API au menu</h2>
				<p>Objets CSS et propri√©t√©s perso typ√©es</p>
				<p>Objets JS Worklets pour :</p>
				<p>Dessin, peinture, animation, layout</p>
				<p>Fontes en dessert/caf√© (tr√®s l√©ger)</p>
			</section>
			
			<section>
				<h2>CSSOM API</h2>
				<p>Fini la concat√©nation et les typos, et enfin le try/catch</p>
				<p>Nouveaux objets CSS* et .attributesStyleMap/.computedStyleMap</p>
				<pre class="fragment fade-up"><code class="css">
el.attributeStyleMap.set('opacity', CSS.number(0.3));
el.attributeStyleMap.has('opacity');
el.computedStyleMap().get('opacity').value // ex getComputedStyle
el.attributeStyleMap.delete('opacity')
el.attributeStyleMap.clear();
CSS.vw('100'); CSS.px(42); CSS.angle(90);
CSS.percent('10'); CSS.ms(300);
new CSSMathSum(CSS.vw(100), CSS.px(-10))
// calc(100vw + -10px)
new CSSStyleValue.parse('transform', 'translte3d(...)');
// typo throw
				</code></pre>
			</section>

			<section>
				<h2>üîë Properties/Values API üîë</h2>
				<p >De la structure/typage dans des variables CSS custom</p>
				<small>... on rappelle BEM/SASS/Less pour une structure de classes maintenable</small>
				<p class="fragment fade-up">Types support√©s : length, number, %, color, image, url(), integer, angle, time, dpi, transform</p>
				<pre class="fragment fade-up"><code class="css">
CSS.registerProperty({
 name: '--sky', /* stp change un peu le ciel du header ? */
 syntax: '&lt;color&gt;', /* son type pour JS (rgb) */
 inherits: true, /* propag√©e vers le bas dans le DOM tree */
 initialValue: 'vanilla', /* son default */
});</code></pre>
				<small>SVP ne pas inventer des horreurs lexicales comme couleur=color, ni substituer aux meta data-* HTML5. C'est pour mieux d√©crire, pas pour de la metadonn&eacute;e</small>
				<small>inherits : false par d√©faut pour pas recalculer le CSSOM tree si pas besoin</small>
				<p><a href="../cssp">demo</a></p>
			</section>

			<section><h2>üé® Paint API üé®</h2>
				<p>Dessin/masque libre avec <em>-webkit-mask-image ou background:paint('foo');</em></p>
				<p>Introduction de <em>PaintWorklet</em> : analogie avec les <em>Workers</em> JS</p>
				<p class="fragment fade-up">Une <em>Worklet</em> est un JS dormant, d√©pla√ßable entre threads au gr√© du moteur</p>
				<p class="fragment fade-up">But : qu'elle ne tourne pas dans la main thread (main JS sur thread UI sans rAf = lag) mais dans une autre thread</p>
				<p class="fragment fade-up">La Paint API donne un <em>Canvas</em> sans acc√®s au DOM</p>
				<small class="fragment fade-up">donc oui le 31/10 tu peux faire background:paint(üéÉ);</small>
				<p><a href="../cssp">demo (voir les 2 threads + FPS)</a></p>
			</section>

			<section>
				<h2>Dormant ?</h2>
				<p>La Worklet est dormante et se r√©veille quand :</p>
				<p class="fragment fade-up">Une des propri√©t√©s CSS mapp√©es change (ex:sky)</p>
				<p class="fragment fade-up">La g√©om√©trie de l'√©l√©ment peint change (ex:resize)</p>
				<p class="fragment fade-up">La timeline bouge (ex:scroll, demo plus loin)</p>
				<p class="fragment fade-up">Une Worklet va bosser sur <em>chaque frame, donc 60 fois/seconde</em></p>
				<p class="fragment fade-up">C'est un WebWorker en plus l√©ger, c√¢bl√© directement sur le moteur CSS. Voir √ßa comme un layer Photoshop, effect Premiere, After Effect</p>
			</section>

			<section>
				<h2>S√©curit√©</h2>
				<ul>
					<li>Aucun acc√®s au DOM et les Properties sont readonly. Le Canvas est √©tanche. Si besoin de DOM, faire un Canvas classique sans Paint API</li>
					<li class="fragment fade-up">Car tu n'as pas sp√©cialement envie qu'un Canvas charg√© <em>depuis JS/CSS externe</em> puisse lire repeindre ou masquer des √©l√©ments de ta page</li>
					<li class="fragment fade-up">exemple : redessiner champ input de saisie de CB avec un message pour contacter la "banque"</li>
					<li class="fragment fade-up">Les Properties readonly aussi contre boucle repaint infinie</li>
					<li>c'est un <em>PaintRenderingContext2D</em> subset de <em>CanvasRenderingContext2D</em> : un Canvas restreint</li>
				</ul>
				<img src="gifhack.gif" width="200px" style="border: none;" alt="">
			</section>

			<section>
				<p>Values trop simples ? Comment passer des complexes ?</p>
				<p class="fragment fade-up">exemple : un flux audio/vid√©o/ECU (data automobile)... = tl;dr : faire de la DataViz </p>
				<p class="fragment fade-up">solution (Juin 2019) : ajouter un type &lt;blob&gt;</p>
				<p><a href="https://github.com/w3c/css-houdini-drafts/issues/872">https://github.com/w3c/css-houdini-drafts/issues/872</a></p>
				<p class="fragment fade-up">... tu peux d√©j√† passer une property arbitraire non typ√©e facon --madata:'{foo:1,bar:2}'</p>
			</section>

			<section>
				<p>Skins : background:paint('488GT3'); background:paint('motec');</p>
				<pre class="fragment fade-up"><code class="css">
/* nos Properties CSS custom (ici, number)*/
--gear: 3; /* si pas set: initialValue, Motec 0 */
--speed: 81; 
--pos: 16;
--laptime: 7.28;
--rpm: 6000;
/* jauge rectangle en Ferrari, arc rectangles en Motec */
background-image:paint('compteur')
				</code></pre>
				<img src="488.jpeg" width="350px" alt="">
				<img src="motec.jpeg" width="350px" alt="">
			</section>

			<section>
				<h2>üé¨ Worklet Animation API üé¨</h2>
				<p class="fragment fade-up">Animations non blocking √† 60fps relatives √† la timeline et au scroll
				... c'est assez fait pour le scroll, et √ßa le fait - tr√®s - bien</p>
				<small class="fragment fade-up">qui a d√©j√† fait des parallaxes fluides ? des offsets / staggering ? anime.JS ?</small>
				<p>Syntaxe : <em>AnimationWorklet + KeyFrameEffects</em></p>
				<p class="fragment fade-up">Note : s√©quence/chor√©graphie √† faire √† la main. Un peu p√©nible, car <em>GroupEffect</em> dans la spec - mais cach√© par un flag</p>
			</section>

			<section>
				<p>Encore une API d'animation ?</p>
				<small>... on a d√©j√† CSS transitions, CSS animations (@keyframes), Web Animations API (el.animate({...}).pause())</small>
				<p class="fragment fade-up">NON. La Worklet est une <em>extension</em> de WAAPI qui donne au <em>KeyframeEffect</em>, des <em>timelines</em> libres (dont une <em>ScrollTimeline</em>) et un √©tat optionel (stateful)</p>
				<p class="fragment fade-up">ex: se souvenir de l'√©tat pour le modifier/partager dans le temps, ou quand le moteur bouge la Worklet entre threads (kill and revive)</p>
				<p class="fragment fade-up">ex: acc√©l√©rer/distordre le temps (document.timeline relative)</p>
				<p><a href="../waapi">demo (+ question paint flashing)</a></p>				
			</section>

			<section>
				<p>Pourquoi on a toujours du paint flashing ? - sur certains √©l√©ments</p>
				<p class="fragment fade-up">Parce que j'ai modifi√© leur g√©om√©trie ou box shadow</p>
				<p class="fragment fade-up">Et ce sont des classiques qui d√©clenchent un repaint</p>
				<p class="fragment fade-up"><a href="https://csstriggers.com/">https://csstriggers.com/</a></p>
				<p class="fragment fade-up">Mais la Worklet n'est pas sur la Main thread : no main UI jank si son JS rame</p>
				<small class="fragment fade-up">fini les hacks risqu√©s translate3d(0,0,0), la Worklet promeut d'office l'√©l√©ment en Layer vers le Compositor</small>
			</section>

			<section>
				<p>‚öôÔ∏èÔ∏è Main thread, Compositor ? üñåÔ∏è</p>
				<p>Main thread : l√† o√π la UI vit (impact√©e par r√©seau, manips de DOM, CSS, JS)</p>
				<p>Compositor : le dernier √©l√©ment de la cha√Æne de rendu d'un navigateur</p>
				<p>Chargement page + ressources -> construction des arbres DOM, CSSOM -> Layout x/y -> mise en Layers -> Peinture + Compositing -> envoi des pixels vers la carte graphique</p>
				<p>spoiler : talk √† venir sur comment fonctionne un moteur de rendu </p>
			</section>

			<section>
				<p>La Worklet n'est <em>PAS sur la Compositor thread</em>, elle s'y <em>sync en "best effort"</em></p>
				<p>Car si tu fais du bitcoin dans la Worklet, √ßa ralentirait le Compositing</p>
				<p class="fragment fade-up">Elle va <em>au minimum</em> chercher √† performer comme <em>requestAnimationFrame</em> : √† 60fps, et b√©n√©ficie des optims du Compositor (ex: cache, delta pixels)</p>
				<p class="fragment fade-up">Si ton animate est trop souvent &gt; 16ms (1/60), le moteur peut t'offthread (kill and revive) ou throttle : un 30fps fluide est meilleur qu'un 60fps qui drop</p>
				<small class="fragment fade-up">60fps est une limite basse, l'iPad Pro est √† 120Hz, l'Oculus/Vive √† 90Hz. Chrome, IE et FF peuvent faire du 240Hz et m√™me 480Hz sur des moniteurs usine</small>
				<br>
				<small class="fragment fade-up">nb: Safari iOS <a href="https://github.com/WebKit/webkit/blob/master/Source/WebCore/page/RenderingUpdateScheduler.cpp">limite certains √©crans √† 60fps</a> et toutes les iframe sans interaction <a href="https://trac.webkit.org/changeset/215070/webkit">√† 30fps</a></small>
			</section>

			<section>
				<p>Jouer avec le temps, animer des √©l√©ments li√©s ou distincts</p>
				<p><img src="tars.jpg" alt=""></p>
				<small>Ne pas partir dans un trip sci-fi/math complexe avec doliprane : <em>la clef est toujours la timeline</em>.</small>
				<small>Penser en distance relative au temps : km/h, m/s, √† la Fl√®che du temps --&gt; (Eddington)</small>
			</section>

			<section>
				<p>‚åõ Le temps peut √™tre bas√© sur une unit√© libre ‚åõ</p>
				<p class="fragment fade-up"><a href="https://majido.github.io/houdini-samples/animation-worklet/touch-input/drag.html">Belle d√©mo : le temps bas√© sur un deltaX d'un CSS Pointer Event (... ton doigt/stylo)</a></p>
				<p class="fragment fade-up"><img src="incep.png" alt=""></p>
				<p class="fragment fade-up">Le temps sur le bout de ton doigt. Si tu donnes NaN ou infinite... essaie ;)</p>
			</section>

			<section>
				<p>Sprints et roadmap : <a href="https://www.chromium.org/teams/animations/animation-objectives">https://www.chromium.org/teams/animations/animation-objectives</a></p>
				<p>Pour le moment (Ao√ªt), <em>GroupEffect</em> = groupe de <em>KeyFrameEffects</em> est cach√© (flag, ya plus de -prefix)</p>
				<p class="fragment fade-up">exemple : d√©marrer l'animation B quand la A est √† 50%, d√©marrer B, C, D en m√™me temps mais avec des offsets (= delay/parallaxe/stagger), pause() ou play() les effets en bloc</p>
				<small class="fragment fade-up">Travail important de Yi Gu sur la Chor√©graphie, Parallel, S√©quence et Staggering pour am√©liorer la spec</small>
			</section>
			<section>
				<img src="pigeon.gif" alt="">
				<img src="corgi.gif" alt="">
				<p>lire les travaux de Yi sur <a href="https://github.com/yi-gu/group_effect">https://github.com/yi-gu/group_effect</a></p>
				<p>propose nouveaux types SequenceEffect, ParallelEffect, StaggerEffect en plus de GroupEffect</p>
				<p>Q1 2020. Yi est joignable et demandeur de retours</p>
				<small>Question √† Julian Garnier (anime.js) <a href>https://github.com/juliangarnier/anime/issues/602</a></small>
			</section>

			<section>
				<h2>üñºÔ∏è Layout API üñºÔ∏è</h2>
				<p>On a d√©j√† flex, multi-column, grid...</p>
				<p class="fragment fade-up">OUI</p>
				<p class="fragment fade-up">et subgrid va arriver pour h√©riter des tracks (il est d√©j√† dans FF Nightly)</p>
				<p class="fragment fade-up">PVAPI, PAPI et WAPI ouvrent propri√©t√©s, dessin et animation... quid de la mise en page ?</p>
				<small class="fragment fade-up">Rappel : c'est Bloomberg qui a sponsoris√© grid dans WebKit (impl√©ment√© par Igalia). Ils aiment bien les grilles, le Terminal a 30 ans... pas ton navigateur evergreen</small>
				<p class="fragment fade-up"><img src="bloom.png" width="300px" alt=""></p>
			</section>

			<section>
				<h2>üñºÔ∏è Layout API üñºÔ∏è</h2>
				<p>Quand flex ou grid ne suffisent plus (oui oui)</p>
				<p class="fragment fade-up">tl;dr : √©crire son propre display:layout('monlayout');</p>
				<p><a href="https://houdini.glitch.me/layout">https://houdini.glitch.me/layout</a></p>
				<p class="fragment fade-up">Conteneur de <em>LayoutChild/Fragments</em> dans un <em>ParentLayout</em></p>
				<small class="fragment fade-up">Le <em>Parent</em> a des borders, paddings : les <em>Edges</em>. Entre les <em>Edges</em>, on a des <em>Constraints</em>. Les <em>LayoutChild</em> sont dans ces <em>Constraints</em> et ont des <em>Fragments</em></small>
				<p class="fragment fade-up">La *clef* : chaque <em>Fragment</em> a un <em>inlineOffset/blockOffset</em> pour le positionner par rapport √† la box de son <em>Child</em></p>
				<p>C'est - tr√®s proche - d'un position:relative; dynamique, pr√©calculable, dans un <em>wireframe</em> nomm√©</p>
			</section>

			<section>
				<p>penser √† Tetris : une disposition de blocs dans un espace constraint</p>
				<p class="fragment fade-up">display:layout('L'); display:layout('4bar'); ‚ñõ ‚ñö ‚ñê</p>
				<small class="fragment fade-up">4bar est ici 4 Fragments empil√©s, L 3 et le 4e a un offset</small>
				<p class="fragment fade-up">Le calcul des blocs Fragments est non blocking _asynchrone_ par les moteurs next-gen (LayoutNG CR, WebRender FF) : le futur Fragment peut d√©pendre de calculs diff√©r√©s ou longs : Promise JS</p>
				<p class="fragment fade-up">Cas d'usage : architecture, UI norm√©s (affichage dash militaire/industriel/logiciel, presse √©crite, eBooks, ePub Comics)</p>
				<small class="fragment fade-up">des utilisaturs.trices de QuarkXPress/InDesign pour du print ?</small>
				<p><a href="../cssp">demo</a></p>
			</section>

			<section>
				<h2>üî† Font Metrics API üî†</h2>
				<p>... spec seulement utilitaire, caus√©e par la Layout API :</p>
				<p>placer des blocs custom c'est cool mais : on a parfois besoin de g√©rer du texte/symboles dedans</p>
				<small class="fragment fade-up">ex : faire son propre line-breaking, conna√Ætre les tailles r√©elles des symboles math chimie ‚àë ‚àö ‚àû, des ligatures ≈í, √Ü, ŸÖÿ≠ÿ±ŸÉ, et c√¶tera ‚Ä¶ &lt;- c'est des points de suspension, pas '...' </small>
				<p class="fragment fade-up">exposer seulement la Font ne suffit pas : il faut descendre au niveau du <em>glyphe</em> dessin√© par chaque navigateur, √† sa fa√ßon</p>
				<p class="fragment fade-up">la FMAPI donnera un objet JS FontMetrics des glyphes dessin√©s, utilitaire interne</p>
			</section>
				
			<section>
				<h2>D√©mo avanc√©es : Majido et Rocks</h2>
				<p>avec Chrome Canary, Safari Technology Preview ou Firefox Nightly (peu d'impl√©ment√©)</p>
				<p><a href="https://majido.github.io/houdini-samples/">https://majido.github.io/></p>
				<p><a href="https://css-houdini.rocks">https://css-houdini.rocks</a></p>
				<p>notamment : QR generator, Trip App, Twitter, Inner Borders, Masonry, Random Bubble Masks</p>
			</section>

			<section>
				<h2>Pour suivre / plus loin</h2>
				<p><a href="https://github.com/w3c/css-houdini-drafts/wiki/Meeting-Planning-Pages">https://github.com/w3c/css-houdini-drafts/wiki/Meeting-Planning-Pages</a> (transcripts meetings trimestriels CSSWG)</p>
				<p><a href="https://www.chromium.org/teams">https://www.chromium.org/teams</a> (r√©tros agiles)</p>
				<p><a href="https://houdini.glitch.me">https://houdini.glitch.me</a> (r√©capitulatif illustr√©)</p>
				<p>Q2 2020, rapprochement de Paint API et Web Animations API :</p>
				<p>On peut imaginer un IDE en ligne 100% web, gratuit et open source qui remplacerait Sketch/Adobe XD, 100% extensible car bas√© sur des APIs ouvertes</p>
				<p>Plus de "on peut pas le faire en CSS" : mais √ßa va demander des comp√©tences de dessin canvas2D et animation... FullFullStack ?</p>
			</section>

				<!--
				<section>Recap blogs wk/chome</section>
				<section>pwa</section>
				<section>preload srcset</section>
				-->


				<style>
						.darkside_txt {
							color: white;
						}
						.darkside {
							background-image:url('anakin.png');
							background-size: contain;
							height:250px;
						}
						@media (prefers-color-scheme: dark) {
							body {
								background-color: black;
								color: white;
							}
							.darkside {
								background-image:url('vador.jpg');
							}
							.darkside_txt {
								color: red;
							}
						}
						</style>
						<section>
							<h2>Dark mode</h2>
							<p class="darkside_txt">iOS13, Android Q</p>
							<pre><code class="css" data-trim data-line-numbers="1">
	@media (prefers-color-scheme: dark) {
		body {
			background-color: black;
			color: white;
		}
		.darkside {
			background-image:url('vador.jpg')
		}
		}
								</code></pre>
								<p class="darkside"></p>
						</section>

				<section>
					<h2>Merci</h2>
					<p>Speakers wanted</p>
					<p>sur des sujets front/privacy, pour un Meetup pur web</p>
					<p>@laurentperez / Slack Comm MPL</p>
				</section>

			</div>
		</div>

		<script src="js/reveal.js"></script>
		<script src="/socket.io/socket.io.js"></script>
		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				history:true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
		<script src="script.js"></script>
	</body>
</html>
