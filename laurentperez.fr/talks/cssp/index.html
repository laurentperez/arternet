<!doctype html>
<style>
  /* tous les '--' sont mes propriétés perso */
  .cats {
    --ranking: 1; /* mon appréciation des chatons */
    --rotate:0deg;
    /* hack pour charger image, registerProerty type <image> pas 100% implémenté */
    --flamingo:url('fla.jpg');
    list-style-image: var(--flamingo); 
    height: 200px; /* hauteur canvas où je vais être peint */
    flex:1;
    margin:10px;
  }
  @supports (background-image: paint(etoiles)) {
    .cats {
      background-image: paint(etoiles); /* mon peintre */
    }
  }
  .under {
    background-image: paint(underline); /* mon peintre */
    /* credit : https://blog.logrocket.com/new-horizons-in-css-houdini-and-the-paint-api-8b307cf387bb/ */
    padding: 15px;
    border: 1px solid rebeccapurple;
  }
  main {
    --sky: white; /* mon ciel  */
    background-color: var(--sky);
    display: flex;
    border: 1px solid rebeccapurple;
    transition: all 4s;
  }
  .photo {
    width: 100px;
    height: 100px;
    margin: 10px;
  }
  body {
    font-family: sans-serif;
  }
  /* layout API, progressive enhancement si supports */
  @supports (display: layout(coincoin)) {
  .coins {
    display: layout(coincoin); /* mon layout */
    background: aliceblue;
    height: 200px;
    border: 20px solid rebeccapurple;
    margin: 10px;
  }
  .child {
    background: violet;
    transition: all 2s;
    overflow: auto;
  }
}
</style>

<div>Properties API + Paint API : typage et dessin custom</div>
<br>
<main>
  <img class="photo" src="https://placekitten.com/100/100" alt="">
  <div class="cats">Evaluez si ces chatons sont mignons  &nbsp;</div>
</main>
<div><p class="under">Un texte avec une underline custom</p></div>
<div>Layout API : placement custom de 2 enfants : 2 1ers dans les coins, le reste au milieu</div>
<br>
<div class="coins" style="visibility: hidden">
    <div class="child" style="width:100px">#1 lorem ipsum bla bla bla bla <img src="https://placekitten.com/100/100"/></div>
    <div class="child" style="width:200px">#2 la la la <img src="https://placekitten.com/100/100"/></div>
    <div>miaou</div>
</div>

<script>
  CSS.registerProperty({
    name: '--ranking', /* on type ranking en number */
    syntax: '<number>',
    inherits: false,
    initialValue: 1
  });
  CSS.registerProperty({
    name: '--sky', /* on type sky en couleur */
    syntax: '<color>',
    inherits: false,
    initialValue: '#f3e5ab' /* ya pas vanilla ? allo quoi */
  });
  CSS.registerProperty({
    name: '--rotate', /* on type rotate en angle deg */
    syntax: '<angle>',
    inherits: false,
    initialValue:'0deg'
  });
</script>
<script>
  CSS.paintWorklet.addModule('meetup.js');
  CSS.paintWorklet.addModule('under.js');
  CSS.layoutWorklet.addModule('masonry.js');
</script>
<script>
  /* live repaint sur move
document.addEventListener('mousemove', function (e) {
  console.log(Math.round(e.screenX / 100));
  document.querySelector('.cats')
          .style.setProperty('--ranking', Math.round(e.screenX / 100))
});
*/
</script>
